# デジコレで見開き表示される本を一ページずつ表示する

## これは何？
[国立国会図書館デジタルコレクション](http://dl.ndl.go.jp/)では、見開きでスキャンされた画像が表示されるが、タブレットを縦長にしてその一画面に本の一ページが映るように拡大して読みたい。
視力的にそうしないとつらい。
趣旨としては、[以前書いたもの](https://gist.github.com/piyo-ko/a4af837cd1aa8a660d85164854a4cea6)と同じである。

以前書いたものはローカルでPDFファイルを生成する方法を取るので多少面倒なのだが、今回は、IIIFを利用してブラウザだけで完結するようにした。


[「国立国会図書館 デジタルコレクション IIIFインタフェース詳細仕様」](https://dl.ndl.go.jp/static/files/IIIF_interface_Jp.pdf#page=3)を参照して、とりあえず最低限の機能だけ作った。
私が読みたいものは縦書きのものばかりなので、右綴じを前提にしている。

## 使い方
1. [本ツールのページ](https://piyo-ko.github.io/NDL_page_viewer/page_viewer.html)を開く。
2. それとは別に、デジコレで読みたい本の本文の適当なコマを開く。例えば、[『国訳漢文大成 第三卷』の50コマ目](https://dl.ndl.go.jp/pid/1912796/1/50)を開く。
3. そのURLとページ配置に基づき、本ツールの初期設定を行う。上記の例の場合、以下のような作業となる。
	* URLは `https://dl.ndl.go.jp/pid/1912796/1/50` なので、「pid@NDL」には「`1912796`」と設定する。
	* 50コマ目の左側のページは81ページなので、「ページ配置」には「`50`」と「`81`」を設定する。
	* 余白（見開き画像全体に対するパーセンテージで表す）は、適当に設定しておく（後で再設定できるので、とりあえずデフォルトのままでよい）。
	* 入力できたら、「設定する」ボタンを押す。
4. その後、閲覧したいページ番号を入力し、「見たい」ボタンを押す。<br>例えば、上記の例だと、デジコレの「目次」タブの見出しは結構粗く、個々の作品への直接のリンクがないので困るのだが（「全文検索」タブで検索すれば困らない場合もあるが）、「目次」タブの中の「目次」と書いてあるリンクをクリックして[この本の目次](https://dl.ndl.go.jp/pid/1912796/1/5)を見ると、実は各作品のページ番号が書かれている。例えば「洛神の賦竝序」は17ページなので、これを閲覧したいときは「`17`」と入力すればよい。
5. その後は「前へ」「次へ」でページを移動する。
6. 余白の再設定をしたいときや、別の本を見たいときは、初期設定からやり直す。

